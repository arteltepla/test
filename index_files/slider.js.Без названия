!function(t){var e={};function i(s){if(e[s])return e[s].exports;var n=e[s]={i:s,l:!1,exports:{}};return t[s].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=e,i.d=function(t,e,s){i.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:s})},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=2)}([function(t,e,i){"use strict";const s=window.tb;e.c=s;const n=s.utils.select;e.a=n;const o=s.utils.selectAll;e.b=o},function(t,e,i){"use strict";var s;i.d(e,"a",function(){return s}),function(t){t.DARK="sb-text-dark",t.WHITE="sb-text-white"}(s||(s={}))},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(3);window.tbSlider={create:(t,e)=>new s.a(t,e)}},function(t,e,i){"use strict";var s=i(0),n=i(4),o=i(5),a=i(1),l=i(6),d=this&&this.__decorate||function(t,e,i,s){var n,o=arguments.length,a=o<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,s);else for(var l=t.length-1;l>=0;l--)(n=t[l])&&(a=(o<3?n(a):o>3?n(e,i,a):n(e,i))||a);return o>3&&a&&Object.defineProperty(e,i,a),a},h=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};const r="js-list_transition";class c{constructor(t,e={}){this.root=t,this.opts=e,this.activeSlideRelativeIndex=0,this.visibleSlidesCount=1,this.allowSlideChange=!0,this.slideWidth=0,this.slidesCount=this.slideElements.length,this.withNavigation=!!t.classList.contains("js-with-navigation"),this.dots=new n.a(t,this.slidesCount),this.counter=new l.a(t,this.slidesCount),this.navigation=new o.a(t,this.slideElements.map(t=>t.classList.contains(a.a.DARK))),this.initListeners(),this.buildSlider()}set slideWindowOffset(t){this.sliderElement.style.transform=`translateX(-${t}px)`}set isTransition(t){t?this.sliderElement.classList.add(r):this.sliderElement.classList.remove(r)}get slideStep(){return this.opts.slideSingleEntity?1:this.visibleSlidesCount}get activeSlideIndex(){return this.activeSlideRelativeIndex<0?Math.max(0,this.slidesCount+this.activeSlideRelativeIndex):this.activeSlideRelativeIndex>=this.slidesCount?Math.min(this.slidesCount-1,this.activeSlideRelativeIndex-this.slidesCount):this.activeSlideRelativeIndex}updateSlideWidth(){const t=parseFloat(getComputedStyle(this.wrapper).width),e=parseFloat(getComputedStyle(this.slideElements[0]).width);this.visibleSlidesCount=this.slidesCount?Math.floor(t/e):1,this.slideWidth=t/this.visibleSlidesCount}updateWidthAndOffset(){setTimeout(()=>{this.updateSlideWidth(),this.updateSlidesOffset()},10)}initOpenPopupListener(t){t.addEventListener("click",t=>{const e=t.target.parentElement;if(!e||!e.classList.contains("sb-image-link"))return;const i=e.getAttribute("href").substr(1);s.c.modules.popups.isPopup(i)&&window.dispatchEvent(new CustomEvent("needUpdateOffset"))})}initListeners(){s.c.modules.hammer.addListener(this.wrapper,"swipe",(t,e)=>{const i=this.opts.deactivateWidth&&this.opts.deactivateWidth>=document.body.clientWidth;if(this.allowSlideChange&&!i)switch(t.direction){case e.DIRECTION_RIGHT:this.slidePrevious();break;case e.DIRECTION_LEFT:this.slideNext()}});const t=this.arrowPrevious,e=this.arrowNext;t&&t.addEventListener("click",()=>{this.allowSlideChange&&this.slidePrevious()}),e&&e.addEventListener("click",()=>{this.allowSlideChange&&this.slideNext()}),window.addEventListener("resize",s.c.utils.debounce(()=>{this.onWindowResize()},300)),this.dots.onSelectSlide=this.onSelectSlide.bind(this),this.navigation.onSelectSlide=this.onSelectSlide.bind(this),this.sliderElement.addEventListener("transitionend",t=>{t.target===this.sliderElement&&this.onTransitionEnd()}),this.opts.listenPopups&&(window.addEventListener("needUpdateOffset",this.updateWidthAndOffset.bind(this)),this.initOpenPopupListener(this.sliderElement))}onWindowResize(){this.buildSlider(),setTimeout(()=>{this.updateUi()})}onSelectSlide(t){this.allowSlideChange&&this.slideTo(t)}onTransitionEnd(){if(this.isTransition=!1,this.allowSlideChange=!0,this.opts.continuousSliding){if(this.activeSlideRelativeIndex<0)this.activeSlideRelativeIndex=this.slidesCount+this.activeSlideRelativeIndex;else{if(!(this.activeSlideRelativeIndex>=this.slidesCount))return;this.activeSlideRelativeIndex=Math.max(0,this.activeSlideRelativeIndex-this.slidesCount)}this.updateUi()}}buildSlider(){this.updateSlideWidth(),this.dots.build(this.visibleSlidesCount),this.navigation.build(),this.updateVisibilityOfControls(),this.updateSlidesOffset(),this.opts.onSlideChange&&this.opts.onSlideChange(this)}updateVisibilityOfControls(){const t=this.slideElements;let e=!0,i=!1;this.activeSlideIndex+this.slideStep>=t.length&&this.onSelectSlide(this.slideElements.length-this.slideStep),t.length<=this.visibleSlidesCount&&(e=!1),this.opts.deactivateWidth&&this.opts.deactivateWidth>=document.body.clientWidth&&(e=!1,i=!0),e?this.showControls():(this.slideWindowOffset=0,this.hideControls())}updateUi(){const t=this.activeSlideIndex;this.dots.activeSlide=t,this.navigation.activeSlide=t,this.counter.activeSlide=t,this.updateSlidesOffset()}updateSlidesOffset(){this.slideWindowOffset=Math.trunc(this.slideWidth*this.activeSlideRelativeIndex)}slideNext(){this.slideTo(this.activeSlideIndex+this.slideStep)}slidePrevious(){this.slideTo(this.activeSlideIndex-this.slideStep)}slideTo(t){const e=this.slideStep;this.opts.continuousSliding?(t=Math.max(t,-e),t=Math.min(t,this.slidesCount+e)):t<0?t=t<=-e?Math.max(0,this.slidesCount-e):0:t+e>this.slidesCount&&(t=this.activeSlideIndex+e<this.slidesCount?this.slidesCount-e:0),t!==this.activeSlideRelativeIndex&&(this.isTransition=!0,this.allowSlideChange=!1,this.activeSlideRelativeIndex=t,this.updateUi(),this.opts.onSlideChange&&this.opts.onSlideChange(this))}hideControls(){this.navigation.active||(this.root.classList.add("pointer-events-none"),this.arrowPrevious&&(this.arrowPrevious.style.display="none"),this.arrowNext&&(this.arrowNext.style.display="none"),this.dots.hide())}showControls(){this.navigation.active||(this.root.classList.remove("pointer-events-none"),this.arrowPrevious.style.display="",this.arrowNext.style.display="",this.dots.show())}}e.a=c,d([Object(s.a)(".js-list-wrapper"),h("design:type",HTMLElement)],c.prototype,"wrapper",void 0),d([Object(s.b)(".js-slide"),h("design:type",Array)],c.prototype,"slideElements",void 0),d([Object(s.a)(".js-list"),h("design:type",HTMLElement)],c.prototype,"sliderElement",void 0),d([Object(s.a)(".js-arrow_previous"),h("design:type",HTMLElement)],c.prototype,"arrowPrevious",void 0),d([Object(s.a)(".js-arrow_next"),h("design:type",HTMLElement)],c.prototype,"arrowNext",void 0),d([Object(s.b)("a","sliderElement"),h("design:type",Array)],c.prototype,"links",void 0)},function(t,e,i){"use strict";var s=i(0),n=this&&this.__decorate||function(t,e,i,s){var n,o=arguments.length,a=o<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,s);else for(var l=t.length-1;l>=0;l--)(n=t[l])&&(a=(o<3?n(a):o>3?n(e,i,a):n(e,i))||a);return o>3&&a&&Object.defineProperty(e,i,a),a},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};const a=5,l="js-dot",d="sb-dots__dot_size_s",h="sb-dots__dot_active",r=t=>`<li class="js-dot-wrapper sb-dots__wrapper"><button class="${l} sb-dots__dot" data-index="${t}"></button></li>`;class c{constructor(t,e){this.root=t,this.slidesCount=e,this.dotsCount=0,this.slidesMap=[],this.reverseSlidesMap=[],this.visibleFirstIndex=0,this.visibleLastIndex=0,this.activeIndex=0,this.active=!!this.container,this.active&&this.init()}set activeSlide(t){if(!this.active)return;let e=this.slidesMap.indexOf(t);-1===e&&(e=this.reverseSlidesMap.indexOf(t)),this.setActiveItem(e)}init(){this.container.addEventListener("click",t=>{const e=t.target;if(e&&e.classList.contains(l)&&this.onSelectSlide){const t=Number(e.dataset.index)||0;this.onSelectSlide(t<this.slidesMap.length?this.slidesMap[t]:0)}})}show(){this.active&&(this.container.style.display="")}hide(){this.active&&(this.container.style.display="none")}build(t){this.active&&(this.dotsCount=Math.ceil(this.slidesCount/t),this.buildMapsAndTemplates(t),this.visibleFirstIndex=0,this.visibleLastIndex=Math.min(a-1,this.dotsCount-1),this.activeIndex=Math.min(this.activeIndex,this.dotsCount-1),this.update())}buildMapsAndTemplates(t){let e="",i=this.slidesCount;this.slidesMap=[],this.reverseSlidesMap=[];for(let s=0;s<this.dotsCount;s++)e+=r(s),Math.trunc(i/t)>0?(this.slidesMap.push(s*t),i-=t,this.reverseSlidesMap.push(i)):(this.slidesMap.push(this.slidesCount-t),this.reverseSlidesMap.push(0));this.reverseSlidesMap=this.reverseSlidesMap.sort((t,e)=>t-e),this.container.innerHTML=e}update(){this.elements.forEach((t,e)=>{this.isSmallDot(e)?t.classList.add(d):t.classList.remove(d),e===this.activeIndex?t.classList.add(h):t.classList.remove(h)});const t=-26*this.visibleFirstIndex;this.container.style.transform=`translateX(${t}px)`}isSmallDot(t){return!(this.slidesMap.length<=a)&&(t<=this.visibleFirstIndex&&0!==t||t>=this.visibleLastIndex&&t!==this.slidesMap.length-1)}setActiveItem(t){t!==this.activeIndex&&((t=Math.max(0,Math.min(this.slidesMap.length-1,t)))<=this.visibleFirstIndex?(this.visibleFirstIndex=Math.max(0,t-1),this.visibleLastIndex=Math.min(this.slidesMap.length-1,this.visibleFirstIndex+(a-1))):t>=this.visibleLastIndex&&(this.visibleLastIndex=Math.min(this.slidesMap.length-1,t+1),this.visibleFirstIndex=Math.max(0,this.visibleLastIndex-(a-1))),this.activeIndex=t,this.update())}}e.a=c,n([Object(s.a)(".js-dots"),o("design:type",HTMLElement)],c.prototype,"container",void 0),n([Object(s.b)("."+l),o("design:type",Array)],c.prototype,"elements",void 0)},function(t,e,i){"use strict";var s=i(0),n=i(1),o=this&&this.__decorate||function(t,e,i,s){var n,o=arguments.length,a=o<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,s);else for(var l=t.length-1;l>=0;l--)(n=t[l])&&(a=(o<3?n(a):o>3?n(e,i,a):n(e,i))||a);return o>3&&a&&Object.defineProperty(e,i,a),a},a=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};const l=640,d="js-item-bottom_active",h="js-item-bottom-title",r=/[.,\\/#!$%\\^&\\*;:{}=\\-_\`~()]$/,c=(t,e)=>{if(t.scrollHeight<=t.offsetHeight)return;let i=0,s=e.length-1;for(;i<s;){const n=Math.round((i+s)/2);t.innerText=`${e.slice(0,n)}…`,t.scrollHeight>t.offsetHeight?s=n-5:i=n}t.innerText=`${e.slice(0,s-5).replace(r,"")}…\n${e.slice(s-5).replace(r,"")}`};class p{constructor(t,e){this.root=t,this.slideDarkSchemas=e,this.titles=[],this.activeSlideIndex=0,this.active=!!t.classList.contains("js-with-navigation"),this.active&&this.init()}set activeSlide(t){this.active&&(this.activeSlideIndex=t,this.update())}build(){this.active&&(this.items.forEach((t,e)=>{const i=t.querySelector("."+h);i&&c(i,this.titles[e])}),this.update())}init(){this.items.forEach((t,e)=>{0===e&&t.classList.add(d);const i=t.querySelector("."+h);i&&this.titles.push(i.innerText)}),this.panel.addEventListener("click",t=>{const e=Number(t.target.dataset.index);!isNaN(e)&&this.onSelectSlide&&this.onSelectSlide(e)})}update(){const t=this.panel,e=this.slideDarkSchemas.length,i=Math.round(t.clientWidth/this.bottom.clientWidth);let s=0;if(this.activeSlideIndex>1&&e>i){const n=t.offsetWidth/i;s=this.activeSlideIndex>e-i+1?n*(e-i):n*(this.activeSlideIndex-1)}document.body.clientWidth<l?this.nativeScrollWrapper.scrollTo({left:s,behavior:"smooth"}):t.style.transform=`translateX(-${s}px)`,t.classList.remove(n.a.DARK),t.classList.remove(n.a.WHITE),t.classList.add(this.slideDarkSchemas[this.activeSlideIndex]?n.a.DARK:n.a.WHITE);const o=this.items;o[this.activeSlideIndex]&&(o.forEach(t=>t.classList.remove(d)),o[this.activeSlideIndex].classList.add(d))}}e.a=p,o([Object(s.a)(".js-list-bottom-row"),a("design:type",HTMLElement)],p.prototype,"panel",void 0),o([Object(s.a)(".js-item-bottom-wrapper","panel"),a("design:type",HTMLElement)],p.prototype,"bottom",void 0),o([Object(s.b)(".js-item-bottom","panel"),a("design:type",Array)],p.prototype,"items",void 0),o([Object(s.a)(".js-list-bottom-container"),a("design:type",HTMLElement)],p.prototype,"nativeScrollWrapper",void 0)},function(t,e,i){"use strict";var s=i(0),n=this&&this.__decorate||function(t,e,i,s){var n,o=arguments.length,a=o<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,s);else for(var l=t.length-1;l>=0;l--)(n=t[l])&&(a=(o<3?n(a):o>3?n(e,i,a):n(e,i))||a);return o>3&&a&&Object.defineProperty(e,i,a),a},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};const a=t=>t<10?`0${t}`:`${t}`;class l{constructor(t,e){this.root=t,this.slidesCount=e,this.active=!!this.counter,this.hasProgress=!!this.progressBar,this.active&&this.update(0)}set activeSlide(t){this.active&&this.update(t)}update(t){this.hasProgress&&(this.progressBar.style.width=(t+1)/this.slidesCount*100+"%"),this.counter.innerHTML=`${a(t+1)} / ${a(this.slidesCount)}`}}e.a=l,n([Object(s.a)(".js-progress-bar-line-complete"),o("design:type",HTMLElement)],l.prototype,"progressBar",void 0),n([Object(s.a)(".js-progress-bar-count"),o("design:type",HTMLElement)],l.prototype,"counter",void 0)}]);